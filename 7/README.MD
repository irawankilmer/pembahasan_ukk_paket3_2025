# **Materi 7: Fungsi Agregat dan Grouping Data**

## **Pendahuluan**

Di dunia nyata, kita sering melakukan **perhitungan terhadap kumpulan data**. Misalnya:
âœ… Menghitung total penjualan ğŸ’°
âœ… Mengetahui rata-rata nilai siswa ğŸ“Š
âœ… Mencari harga barang termurah dan termahal ğŸ›’

Di SQL, kita bisa melakukan perhitungan ini dengan **fungsi agregat**, lalu **mengelompokkan data** menggunakan **GROUP BY** dan menyaring hasilnya dengan **HAVING**. Mari kita bahas satu per satu! ğŸš€

---

## **1ï¸âƒ£ Fungsi Agregat dalam SQL**
Fungsi agregat digunakan untuk **melakukan operasi matematika pada kumpulan data**. Berikut beberapa fungsi utamanya:

| **Fungsi** | **Kegunaan** |
|-----------|-------------|
| **SUM()** | Menjumlahkan semua nilai dalam satu kolom |
| **AVG()** | Menghitung rata-rata nilai dalam satu kolom |
| **COUNT()** | Menghitung jumlah baris yang sesuai kriteria |
| **MIN()** | Menampilkan nilai terkecil dalam kolom |
| **MAX()** | Menampilkan nilai terbesar dalam kolom |

Mari kita bahas masing-masing dengan contoh! ğŸ¯

---

## **2ï¸âƒ£ SUM() â€“ Menjumlahkan Nilai**
SUM digunakan untuk menjumlahkan angka dalam suatu kolom.

### **â¤ Contoh: Total Nilai Semua Siswa**
```sql
SELECT SUM(nilai) AS total_nilai FROM nilai;
```
ğŸ“Œ **Penjelasan:** Menjumlahkan semua nilai siswa.

### **â¤ Contoh: Total Penjualan Produk**
```sql
SELECT SUM(harga * jumlah_terjual) AS total_pendapatan FROM penjualan;
```
ğŸ“Œ **Menjumlahkan total pendapatan dari tabel penjualan.**

---

## **3ï¸âƒ£ AVG() â€“ Menghitung Rata-Rata**
AVG digunakan untuk menghitung **nilai rata-rata** dari suatu kolom.

### **â¤ Contoh: Rata-rata Nilai Siswa**
```sql
SELECT AVG(nilai) AS rata_nilai FROM nilai;
```
ğŸ“Œ **Menghitung rata-rata semua nilai siswa.**

### **â¤ Contoh: Rata-rata Harga Produk**
```sql
SELECT AVG(harga) AS rata_harga FROM produk;
```
ğŸ“Œ **Menghitung rata-rata harga produk dalam tabel produk.**

---

## **4ï¸âƒ£ COUNT() â€“ Menghitung Jumlah Data**
COUNT digunakan untuk menghitung **jumlah baris dalam tabel** yang sesuai dengan kondisi tertentu.

### **â¤ Contoh: Hitung Jumlah Siswa**
```sql
SELECT COUNT(*) AS jumlah_siswa FROM siswa;
```
ğŸ“Œ **Menghitung total siswa dalam tabel siswa.**

### **â¤ Contoh: Hitung Siswa di Kelas 12 RPL**
```sql
SELECT COUNT(*) AS jumlah_siswa_12 FROM siswa WHERE kelas = '12 RPL';
```
ğŸ“Œ **Hanya menghitung siswa yang ada di kelas 12 RPL.**

---

## **5ï¸âƒ£ MIN() dan MAX() â€“ Mencari Nilai Terkecil/Terbesar**

MIN digunakan untuk mencari **nilai terkecil**, sedangkan MAX mencari **nilai terbesar**.

### **â¤ Contoh: Nilai Tertinggi dan Terendah dalam Ujian**
```sql
SELECT MIN(nilai) AS nilai_terendah, MAX(nilai) AS nilai_tertinggi FROM nilai;
```
ğŸ“Œ **Menampilkan nilai tertinggi dan terendah dari tabel nilai.**

### **â¤ Contoh: Harga Produk Termurah dan Termahal**
```sql
SELECT MIN(harga) AS harga_termurah, MAX(harga) AS harga_termahal FROM produk;
```
ğŸ“Œ **Menampilkan produk dengan harga terendah dan tertinggi.**

---

## **6ï¸âƒ£ GROUP BY â€“ Mengelompokkan Data**
GROUP BY digunakan untuk **mengelompokkan data berdasarkan kolom tertentu**, biasanya digunakan bersama fungsi agregat.

### **â¤ Contoh: Rata-rata Nilai Per Mata Pelajaran**
```sql
SELECT mata_pelajaran, AVG(nilai) AS rata_nilai
FROM nilai
GROUP BY mata_pelajaran;
```
ğŸ“Œ **Menghitung rata-rata nilai untuk setiap mata pelajaran.**

| mata_pelajaran | rata_nilai |
|---------------|------------|
| Matematika    | 80.5       |
| Bahasa Inggris | 85.2       |

### **â¤ Contoh: Total Penjualan per Produk**
```sql
SELECT nama_produk, SUM(jumlah_terjual) AS total_terjual
FROM penjualan
GROUP BY nama_produk;
```
ğŸ“Œ **Mengelompokkan total penjualan berdasarkan nama produk.**

| nama_produk | total_terjual |
|------------|--------------|
| Laptop     | 50           |
| Mouse      | 100          |

---

## **7ï¸âƒ£ HAVING â€“ Menyaring Data Setelah GROUP BY**
HAVING digunakan untuk menyaring data **setelah GROUP BY**, karena WHERE tidak bisa digunakan pada agregasi.

### **â¤ Contoh: Hanya Tampilkan Mata Pelajaran dengan Rata-rata Nilai > 80**
```sql
SELECT mata_pelajaran, AVG(nilai) AS rata_nilai
FROM nilai
GROUP BY mata_pelajaran
HAVING AVG(nilai) > 80;
```
ğŸ“Œ **Menampilkan mata pelajaran dengan rata-rata nilai di atas 80.**

### **â¤ Contoh: Produk dengan Total Penjualan > 50**
```sql
SELECT nama_produk, SUM(jumlah_terjual) AS total_terjual
FROM penjualan
GROUP BY nama_produk
HAVING SUM(jumlah_terjual) > 50;
```
ğŸ“Œ **Menampilkan hanya produk yang total terjualnya lebih dari 50.**

---

## **Kesimpulan**

ğŸ”¥ **SUM()** â†’ Menjumlahkan nilai dalam kolom.
ğŸ”¥ **AVG()** â†’ Menghitung rata-rata nilai.
ğŸ”¥ **COUNT()** â†’ Menghitung jumlah data.
ğŸ”¥ **MIN() / MAX()** â†’ Mencari nilai terkecil / terbesar.
ğŸ”¥ **GROUP BY** â†’ Mengelompokkan data berdasarkan kolom tertentu.
ğŸ”¥ **HAVING** â†’ Menyaring hasil setelah GROUP BY.

ğŸ“Œ **Singkatnya:**
- **SUM** = Total pendapatan toko ğŸª
- **AVG** = Rata-rata nilai ujian ğŸ“
- **COUNT** = Berapa banyak siswa dalam kelas ğŸ‘¨â€ğŸ“
- **MIN/MAX** = Harga termurah/termahal di e-commerce ğŸ›’
- **GROUP BY** = Laporan total penjualan per kategori ğŸ“Š
- **HAVING** = Filter hanya yang di atas target ğŸ¯

Semoga materi ini mudah dipahami! Kalau ada pertanyaan, tanya saja! ğŸ˜ŠğŸš€


---
### **Navigasi**
Prev â® [Materi 6: Pencarian dan Penyaringan Data dengan Query SQL](../6/README.MD) <br>
Home ğŸ  [Halaman Utama](../README.MD) <br>
Next â­ [Materi 8: Pembuatan Stored Procedure, Function, dan Trigger](../8/README.MD)

**Note:** Jika ada yang perlu ditanyakan, silahkan hubungi saya di no WA yang ujungnya 9200 atau 4606